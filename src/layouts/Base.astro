---
import Greeting from "../components/Greeting.astro";
import LanguagePicker from "../components/LanguagePicker.astro";
import SocialNetwork from "../components/SocialNetwork.astro";
import ThemeToggle from "../components/ThemeToggle.astro";
import SideBar from "../components/SideBar.astro";
import { getLangFromUrl } from "../i18n/utils";
import "@fontsource-variable/inter";
import AboutMe from "../components/AboutMe.astro";
import Experience from "../components/Experience.astro";
import Projects from "../components/Projects.astro";
import '../styles/global.css';
const lang = getLangFromUrl(Astro.url);
---

<html lang={lang}>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <title>Ronny Garcia | Full stack Developer</title>
  </head>
  <body
    id="body-container"
    class="overflow-x-hidden relative dark:bg-slate-900 bg-slate-100 leading-relaxed text-slate-400 antialiased selection:bg-primary selection:text-dark"
  >
    <!-- <nav>
      <Navbar />
    </nav> -->
    <header
      class="flex items-center justify-between fixed top-0 z-10 pb-8 w-full max-w-screen-xl px-6 md:px-12 py-4 left-1/2 transform -translate-x-1/2"
    >
      <LanguagePicker />
      <ThemeToggle />
    </header>
    <main class="mx-auto max-w-screen-xl px-6 md:px-12 relative">
      <div class="relative flex flex-row">
        <section
          class="w-full max-w-[500px] flex flex-col justify-between max-h-screen sticky top-0 py-24"
        >
          <div class="flex flex-col gap-y-20">
            <Greeting />
            <SideBar />
          </div>
          <SocialNetwork />
        </section>
        <section class="w-full">
          <AboutMe />
          <Experience />
          <Projects />
          <!-- <slot /> -->
        </section>
      </div>
    </main>
    <div class="mouse-effect mouse-effect-dark"></div>
  </body>
</html>

<style>
  :root {
    --size: 200px;
    /* for dark mode */
    --primary-dark: #1c1fd318;
    --primary-dark-shadow: #1c1fd302;
    /* for light mode */
    --primary-light: #e6f4fa;
    --primary-light-shadow: #abcadb02;
  }
  .mouse-effect {
    scale: 0.3;
    position: absolute;
    z-index: -1;
    top: 100px;
    left: 100px;
    width: var(--size);
    height: var(--size);
    border-radius: 9999px;
  }
  .mouse-effect-dark {
    background-color: var(--primary-dark);
    box-shadow:
      0 0 1000px 100px var(--primary-dark-shadow),
      0 0 1000px 200px var(--primary-dark-shadow),
      0 0 1000px 300px var(--primary-dark-shadow),
      0 0 1000px 400px var(--primary-dark-shadow),
      0 0 1000px 500px var(--primary-dark-shadow),
      0 0 1000px 600px var(--primary-dark-shadow),
      0 0 1000px 700px var(--primary-dark-shadow),
      0 0 1000px 800px var(--primary-dark-shadow),
      0 0 1000px 900px var(--primary-dark-shadow),
      0 0 1000px 1000px var(--primary-dark-shadow),
      0 0 1000px 1100px var(--primary-dark-shadow),
      0 0 1000px 1200px var(--primary-dark-shadow),
      0 0 1000px 1300px var(--primary-dark-shadow);
  }

  .mouse-effect-light {
    background-color: var(--primary-light);
    box-shadow:
      0 0 1000px 100px var(--primary-light-shadow),
      0 0 1000px 200px var(--primary-light-shadow),
      0 0 1000px 300px var(--primary-light-shadow),
      0 0 1000px 400px var(--primary-light-shadow),
      0 0 1000px 500px var(--primary-light-shadow),
      0 0 1000px 600px var(--primary-light-shadow),
      0 0 1000px 700px var(--primary-light-shadow),
      0 0 1000px 800px var(--primary-light-shadow),
      0 0 1000px 900px var(--primary-light-shadow),
      0 0 1000px 1000px var(--primary-light-shadow),
      0 0 1000px 1100px var(--primary-light-shadow),
      0 0 1000px 1200px var(--primary-light-shadow),
      0 0 1000px 1300px var(--primary-light-shadow);
  }

  html {
    scroll-behavior: smooth;
  }

  /* Para navegadores WebKit */
  ::-webkit-scrollbar {
    width: 10px;
  }

  ::-webkit-scrollbar-track {
    background: theme("colors.secondary");
  }

  ::-webkit-scrollbar-thumb {
    background: theme("colors.primary");
    border-radius: 5px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: theme("colors.primary/20");
  }

  /* Para Firefox */
  html {
    scrollbar-width: thin;
    scrollbar-color: theme("colors.primary") theme("colors.secondary");
  }
</style>

<script is:inline>
  function mouseLogic() {
    const bodyContainer = document.querySelector("#body-container");
    const mouseEffect = document.querySelector(".mouse-effect");

    const size = 200;

    function getMouseCoordinates(event) {
      const { pageX, pageY } = event;
      const x = pageX - size / 2;
      const y = pageY - size / 2;
      mouseEffect.style.left = `${x}px`;
      mouseEffect.style.top = `${y}px`;
    }
    bodyContainer.addEventListener("mousemove", getMouseCoordinates);
  }
  mouseLogic();
</script>
